!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jroll")):"function"==typeof define&&define.amd?define(["jroll"],e):t.vueJrollScrollerPlugin=e(t.JRoll)}(this,function(t){"use strict";t="default"in t?t.default:t;var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,17)},o=t.utils.TSF,n=t.utils.moveTo,A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEU0lEQVRoQ+1aXVITQRDuXs3yKJ7AWEU2vhmqTF6NJxBOIJzAcALwBOIJhBMAJyC+Zq0yPmaWKsMJwEcG3LZ6zaR2k/nbdQUs3dfM9PQ3/fU3PT1BKPm1Wt2tAPFjmWlEdIkAY0K8BIAxpul4cvb5pIwN01isYqQKCN06BHAMAMdCjA6r+MFzKgHgiXWBYFscIUDcl1J+mE7HHCXvrzKAukHkgAzKRMQLQLPZWQ3DsC/EiENe+OqMxNww0fDq+nrTJxpOAK1WtxMgHgFAMyXaTpL44DZAMK0I4FWSxGMbn6wA2HkEOEXEVWWkLAiU8unNw4fNIAjYRgeJ+oD40ofks9zY1kVezTcC0DlfBcREjJbWYEo2Go0NRBwgwHMXmB9p+urs7PNQN04LwOa8MkIAmz45oQOQd2SWQ3sA8MQExEYn7e6shOEX5rzRIMA7IUa8qPbLJ7YLgDIQtboHiPjGEo3plZTri4m9BCCKekcIsGEyZMoBU2L7AvCRZT74hBht5tcqAFhbe9F/EASnOueJ6DsB9F2qsEgPnWrZOB9FvQ0EYNXTfovULQBoR71vJur47rwrIX1+b6+9GEAQvDeMnU7E6OmSCtkOJHJw3sepsmNsOZHfzHkELLt/PhEjY0KXdcx3PEvtShjyIaZTp3kUMgA23tk02NeZquMcrMhk/BcAk4QRfZokcb+qA3XMa0e9qS4KRHQoknhLAbjIlwtq4dtMXJ8zJT+GDzeRxI/RJp1XUj72qQjr2GmTjWfNTpPCkNVx6UuJ1tEoWfeAPsrjKOqNtTVTmu5gu9XdB8S3i/DuQjpNUYii3h4C7C79TvSBAQx15a2pWPuTdDHZtrHECOAu5XMRiDFPiT79B3AblPo3I3AfDrGcjOpL7FkO/N0yatJYIhqLJF6/DY671jBJPfBBdt9LiVlZfaEDyVKfFXPtqEeGWkPbyHLtWJ2/m0pqvuKKJF5V9wGuq18vlRP3gEbtVvcUEJdK+mI5bblI36UaWZsMs75U/kqpvTgAQOESXSc9XLaiVvcLInY04+bX3DkAY8X3q39/IJJ427Vgnb/b/NFe6rMWeqMxRcRHd53Qjpb9+ZWUHXXRKvSFXL1+vgGVaWzxRrDNMs0tV1/W2tjKJNVwP1BRKZvULNG+cxgsArzX3c95fQI4EWJUaHtqm7s2KrGhlGg/SeIdH86rM8YFIop6uwhgbBgDQIE6am1be31oyofZ5CkB7NgeHxYPSRMIW8JmO2/py9oeOPzeg4mGhHggpTzRdTAWT3kjCENvytVUdj0x+YGYhWT27jtOU8peU25urr+uhOFSHeMLwuU8r+H1yIcALjr5pENhjAeI85Row6V6TgC8alYRNhrHvo9zvmhsOSGl3PdpqnkBUA5xe4MQ9xzJ7et/Ns6lTi5jpQCoaIRhOACiQV1AfgdEaQBqR9RTaQCwVQe1qoKoDCAfWvVXBPWQTYh80XC+/y7SowqIn38e2kAN1dhNAAAAAElFTkSuQmCC",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACWUlEQVRoQ+2ZQU7DMBBFZwIKW7hBF0nKjiA13VJuACegnAB6AsoJ6A0oJwBOQNkmSMCyThbcALZEIoOMCKqAJrY7EalItx7b/813bI+LsOQ/XHL90ADMOthq+etrtv1c6GqWDabJ3YjLeVYHHKfTW7GsmyJxBHAqRDhcZoBrIcK9pQUAottpHPVqCdB2OsdgWWeF4uoM8PERr672ybLW50EQ0VUcRw+1dIBLlM44rLuQzsRcsawAntcdItFO4TaK+CJEuF9LgLYbTACxEEAKn4qQLXFsA0lhnhvcI6Jflt3XNN14enp4KYtTaWcFaHtdUpn0Lct2k+RuohJbFtMAzGZIHmRFZ0Aem6bpqJZLqMzuKtpZl1AVAsvGZAPYbPmtzLbPkGjuNSIXkwEMuK4TbACe191DgMuyjMl2zpqAE2CIACf/AoCzJvgTB2oJ4LpB3wLoKy0hxAlXXczmgIrwKmIagDyrchsFgC3FLD8KEV4pxhaGsTmgehPN1XDVBA1AnlFdB7iKGm0HHCf4UTKuIPiAqPfeSXT8RvDjeSVJoludb0MLwHUD30K815lANzYj2ta56GkBSDEfBxbiua4wlfiM6DCOo7FKbB6jDVAVhIl4qcUIgBvCVPxCALJz2w1GgHikY/n32EVrA2MHvk5gNxgj4oEJBBFdiDhSugDOG39hADmwZwDBIX7hJTSbFR0ILvGsAKpOcIpnByiD4BZfCcA8iCrEVwYg/2qybXuCn/UBAcj7f+mrtclOxrIL/TZxDiHb0jTtcb2Ffp+rMgCTbJr0aQBMssbZ5x0jdQNAR+TKsgAAAABJRU5ErkJggg==",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADMklEQVRoQ+1ZS3LTQBDtFrFZEk6AqYoUdmiBvMU+AeEEOCcAn4BwgoQTJJyAcAJ7bacqYodHXjg3SJaRCjU1LqkYy9LMaCT5UxUv7emZ97pbr9/ICHv+wT3HD08ENlXBTsc9bLda52EUDRcL/z49dy8q8KbjduJW6yciuhDHw9n85mJvCNi25yLACBEPE9CLGZu83gsCtu0NLMRLsU1jotMgmF7tPAHb9s4txC8ieCL6wYLpQPxuJ58Bx/YuEXEFaB54TmSnCCRKw/vdXck8wG/GJivf7VwLFYEHgLvHMHRF6dy5FspRmiVGInoggF4QTP2iebP1FioCzwFnFSePxFYJHB2961mIfEClGv8fI9H3WTBdUaGdIpCn8SlAkjy0WRJbqYAUPNGDFUXun4W/0PFZGycgA6/b91tTIRV4AvjF2OREJ/MbnwMq8Cq936qMaoCHv3Hcn89vxmWyL7USjtM9IaL3QTAdlt1UXK8DHjQlU1tGxUOJyA+jqF80ymXkZENKiJNaBVXy1lQoL2MmJDTBG7dO7kOs0GffiqKPOvrMjdnzdvsWADqyDJqojnSQOU7XR4C3RYcS0T0B9GXmisc6tnebtcTZPblRC6OoY9KahXMguTz7iPjClETeZSR3r8zlXNXr2jKa9O5YRQIQTxmbXJdWHG6TS3gdFbFcK6ElfRm7m1SPt866s8ygMNV8bRld9rHTPUOAr6oMpJ792PZGgNhTrS+626ritFtIXOjY3hUiflJuTjTWBF/KaSrP1bnUq5RJ55B0DQF8Y2xyViZGtVZpp5eX7XZ7LJNX1SH897pkUzoHioDoKJOKhM79VrVHqYc4u5iTsBD5dDX53M3YRDqVTTblMcoWMtH5LJimsl+aAA84tr0LQPxcImONZd+IwHJG6Mqr5rudEslYW1qqhdLoEsrUaPaNK8ADE8vMX/m9Kspgk72fnmlUgTRYIa+NZ79SBVIS/PXgM8sabVJ5xLMqVUCoxMpfQXzqsmCqdKVVHt5aWkgEICpTE56niGwtFUg3d5zuNQJ8eAzDl1WvirrVqZXAUpkODgbi/7i6QEzX1UrAFESVuCcCVbJXR+w/WhqbQHiqjtIAAAAASUVORK5CYII=",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfeBAURHhtlfr55AAADjUlEQVRIx3XVW2yUVRAH8N9+XS7SQigiAoVYViOWaDDpC4RoMC6IwBPRREggYI1BLJh4hRKNidDGC4koBIgID7wYEZGYSIEafDA+iImFUNugtgmxpSJgvdRiKbs+7Nndb5HOw/dlzsz/f+bMzJmTEJN07heZab4FalQZiz/0aNPipJ9koCWGSdwAZo46adMklcqQ847b51RObSklCPCpNlhjkuGl117vu1ikSMTgtbabV3Dt163XZQkTTFFlTMHypReczlMkCvBHveeu4HLOEUd16HNNwgjj3WOJZaqD/bSnfJejyBPU+ijA++y1S+dNwr/bOk8aGyhWOUOLRDp39o9D8F1edFj2xlwX6vO4d0wLWVzhN8pSsNnyAF/lWM5aGkKnTimy2rSbbxxSBnxFIs0cR0xCnzqfxmEtpfvn5QkfqECPpb6PROpC4fY6XHCKRHlgOqcX5aD9oegrSaRrfKEa5yzSFVwqbFRmi/6C3qDHLteDXuOY6ThncWR+SMpnukLQkY02e8VW5aDcVpu85enCsdodAtXmRRZKol9zLMikrIT1Go0xRqN6jAx0OTnmKkZakFQDunUUkpaxxS3qReolsVZkUKOd+dSmaderGvcnTQ093hcz/60B9SLrwFXbNBmM9cYl3apRGYXOuuhaSfH6bbI7LGS96/USOBlDuUrky5MwvCSMNXIYWzbyJ7jNiPxaOpf5JmvJNbVnNCkvaaiy4H8h0gMmq4zBKzSqF7nqTTtlROptVRGjuFUVuBL5AVSZGbsyDTaIDNrmVS/bISPynOdjW9xrMmiNnDCEcktiCbroX9c1ecOQfzTYgQG/xs6+0CgMOp5Iz3TUDHRa5MdgHmGt0XYYKLTyJt32FFp5lmbT0WFxWep3NWpRaciJkLSMb31jKHetUww66VSwkfRaOO1+ByMZH4bg6jxWWqOW4jcbW15uNfjFgdxA6TbegxhlrjY/50CdsZHSmR8osNR2E8DbPslPpDa1ZmCch/Rol01JlcykdA6etML20PzNGgwUp/JsB9wH/rLPbh036bpZnrU6jPdWK52NT2Xm2hMoOO+QozpckUFkolkescz0YG+1RmvhXShQzLbNw4X9BlzQ4zqSqkw2umBp9pKz+fSWPm2TrFdniuGl2x67XCrW6P+Pa63VFrmjeLmCDOryuQPOFMElBDGShDs9IG22iW6X1euyVid8nS9M/Mn5D/BHDacrC8fcAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTA5LTE3VDE1OjE5OjQ5KzA4OjAwxUluDQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0wNC0wNVQxNzozMDoyNyswODowMP8cNLQAAABNdEVYdHNvZnR3YXJlAEltYWdlTWFnaWNrIDcuMC4xLTYgUTE2IHg4Nl82NCAyMDE2LTA5LTE3IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3Jn3dmlTgAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAODY4KMG/CwAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAA4Nji7MO9WAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADEzOTY2OTAyMjdAmLYeAAAAEnRFWHRUaHVtYjo6U2l6ZQAzMC4xS0L8JJmUAAAAX3RFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L3NpdGUvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL3NyYy8xMTQyMy8xMTQyMzMzLnBuZ/MlurMAAAAASUVORK5CYII=",s="width:24px;height:24px;display:block;";t.prototype.pulldown=function(t){function a(){g||(g=!0,h=!0,M=0,E.spinning&&d(),setTimeout(function(){"function"==typeof E.refresh?E.refresh(c):(console.warn("没有设置触发函数。"),c())},200))}function c(t){h=!1,p.innerHTML=t?E.iconError:E.iconFinish,m.innerHTML=t?E.textError:E.textFinish,setTimeout(function(){n(u,0,0,200),f.scrollTo(0,0,200,!0,function(){g=!1,p.innerHTML=E.iconArrow,m.innerHTML=E.textPull}).minScrollY=0},500)}function d(){M=M+6>=360?0:M+6,p.style[o]="rotateZ("+M+"deg)",h?e(d):p.style[o]="rotateZ(0deg)"}var u,p,m,g,h,f=this,T=Object.keys(t||{}),M=0,E={iconArrow:'<img style="'+s+'" src="'+i+'">',iconLoading:'<img style="'+s+'" src="'+A+'">',iconFinish:'<img style="'+s+'" src="'+l+'">',iconError:'<img style="'+s+'" src="'+r+'">',textPull:"下拉刷新",textRelease:"释放刷新",textLoading:"正在加载",textFinish:"刷新成功",textError:"刷新失败",spinning:!0,refresh:null};for(var R in T)E[T[R]]=t[T[R]];return document.createElement("div").innerHTML=E.iconArrow+E.iconLoading+E.iconFinish,u=document.createElement("div"),u.className="jroll-plugin-pulldown",u.style.cssText="position:absolute;top:-44px;width:100%;height:44px;line-height:44px;font-size:16px;text-align:center;",p=document.createElement("span"),p.className="jroll-plugin-pulldown-icon",p.style.cssText="display:inline-block;width:24px;height:24px;position:absolute;top:10px;left:25%;",p.innerHTML=E.iconArrow,u.appendChild(p),m=document.createElement("span"),m.className="jroll-plugin-pulldown-text",m.innerHTML=E.textPull,u.appendChild(m),f.wrapper.appendChild(u),f.on("scroll",function(){u.style[o]=f.scroller.style[o],g||(f.y>44?(p.style[o]="rotateZ(180deg)",m.innerHTML=E.textRelease):(p.style[o]="rotateZ(0deg)",m.innerHTML=E.textPull))}),f.on("touchEnd",function(){f.y>=44?(f.y=0,f.options.momentum=!1,p.style[o]="rotateZ(0deg)",p.innerHTML=E.iconLoading,m.innerHTML=E.textLoading,setTimeout(function(){f.scrollTo(0,44,200,!0,a).minScrollY=44,n(u,0,44,200),f.options.momentum=!0},10)):g||n(u,0,0,200)}),f},t.prototype.pulldown.version="1.0.0";var a=function(t){return t.replace(/([A-Z]){1}|([0-9]){1}/g,function(t){return"-"+t.toLowerCase()})},c=["scrollStart","scroll","scrollEnd","touchEnd","zoomStart","zoom","zoomEnd","refresh"],d={scrollBarY:!0,scrollBarFade:!0},u={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"container"},[o("div",[t._t("default"),t._v(" "),t.config.loadmore?o("div",{ref:"tip",staticClass:"jroll-infinite-tip",staticStyle:{height:"44px","line-height":"44px","text-align":"center"}},[t._v("\n      "+t._s(t.tip)+"\n    ")]):t._e()],2)])},staticRenderFns:[],name:"jroll-scroller",props:{config:{type:Object,default:function(){return{}}},pulldown:{type:Function}},data:function(){return{jroll:null,loadmoreOpts:{loading:"正在加载中...",error:"加载失败,上拉重试",completed:"全部加载完成"},tip:"正在加载中...",loading:!1}},mounted:function(){var e=this,o=this,n=Object.assign(d,this.config);this.jroll=new t(this.$refs.container,n),n.pulldown&&this.jroll.pulldown({refresh:function(t){e.$emit("pulldown",t)}}),n.loadmore&&this.jroll.on("scrollEnd",function(){o.tip=o.loadmoreOpts.loading,this.y<=this.maxScrollY+o.$refs.tip.offsetHeight&&!o.loading&&(o.loading=!0,o.emitLoadMore())}),c.forEach(function(t){return o.jroll.on(t,function(){return o.$emit(a(t),this)})}),n.loadmore&&this.emitLoadMore()},beforeDestroy:function(){this.jroll.destroy()},beforeUpdate:function(){this.refresh()},methods:{emitLoadMore:function(){var t=this;this.$emit("loadmore",{next:function(){t.loading=!1},error:function(){t.tip=t.loadmoreOpts.error,t.loading=!1},completed:function(){t.tip=t.loadmoreOpts.completed,t.loading=!1}})},refresh:function(){var t=this;this.$nextTick(function(){return t.jroll.refresh()})},scrollTo:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.jroll.scrollTo.apply(this.jroll,t)},enable:function(){this.jroll.enable()},disable:function(){this.jroll.disable()},scale:function(t){this.jroll.scale(t)}}},p={install:function(t){t.component(u.name,u)}};return p});
//# sourceMappingURL=vue-jroll-scroller-plugin.min.js.map