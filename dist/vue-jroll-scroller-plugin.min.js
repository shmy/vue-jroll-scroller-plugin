!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jroll")):"function"==typeof define&&define.amd?define(["jroll"],e):t.vueJrollScrollerPlugin=e(t.JRoll)}(this,function(t){"use strict";function e(){var t,e;if(t=document.createElement("div"),t.innerHTML=n,n=null,e=t.getElementsByTagName("svg")[0]){e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",i(e,document.body);var o=document.createElement("style");o.textContent=".svgfont{display:inline-block;width:1em;height:1em;fill:currentColor;vertical-align:-0.1em;font-size:16px;}",i(o,document.head)}}t="default"in t?t.default:t;var n='\n<svg><symbol id="icon-error" viewBox="0 0 1024 1024"><path d="M511.999488 959.290145c-247.027386 0-447.290656-200.221314-447.290656-447.290656 0-247.014083 200.262246-447.289633 447.290656-447.289633s447.290656 200.275549 447.290656 447.289633C959.290145 759.06883 759.027898 959.290145 511.999488 959.290145zM511.999488 148.577045c-200.712502 0-363.423466 162.710965-363.423466 363.423466 0 200.713525 162.710965 363.423466 363.423466 363.423466 200.713525 0 363.423466-162.710965 363.423466-363.423466C875.422955 311.28801 712.713013 148.577045 511.999488 148.577045zM665.755492 707.689598c-11.575651 0-22.05841-4.695957-29.64828-12.284803l0 0-124.107723-124.107723-124.1067 124.107723 0 0c-7.58987 7.588846-18.073652 12.284803-29.649303 12.284803-23.164606 0-41.934107-18.755175-41.934107-41.934107 0-11.575651 4.695957-22.05841 12.285826-29.64828l0 0 124.107723-124.107723-124.107723-124.1067 0 0c-7.58987-7.58987-12.285826-18.072629-12.285826-29.649303 0-23.150279 18.769501-41.934107 41.934107-41.934107 11.575651 0 22.059434 4.695957 29.649303 12.285826l0 0 124.1067 124.107723L636.108235 328.596228l0 0c7.58987-7.58987 18.072629-12.285826 29.64828-12.285826 23.151303 0 41.934107 18.782804 41.934107 41.934107 0 11.576675-4.695957 22.059434-12.284803 29.649303l0 0-124.107723 124.1067 124.107723 124.107723 0 0c7.588846 7.58987 12.284803 18.072629 12.284803 29.64828C707.689598 688.934423 688.906794 707.689598 665.755492 707.689598z" ></path></symbol><symbol id="icon-shuaxin" viewBox="0 0 1024 1024"><path d="M512 170.666667C385.749333 170.666667 275.754667 239.402667 216.704 341.333333L121.088 341.333333C186.922667 190.677333 337.066667 85.333333 512 85.333333s325.034667 105.344 390.912 256l-95.616 0C748.245333 239.402667 638.250667 170.666667 512 170.666667zM170.624 511.829333l-128-170.197333 256 0L170.624 511.829333zM853.376 512.128l128 170.197333-256 0L853.376 512.128zM512 853.333333c126.250667 0 236.245333-68.736 295.296-170.666667l95.616 0C837.034667 833.237333 686.933333 938.666667 512 938.666667s-325.077333-105.429333-390.912-256l95.616 0C275.754667 784.597333 385.749333 853.333333 512 853.333333z" ></path></symbol><symbol id="icon-wancheng" viewBox="0 0 1024 1024"><path d="M512.750083 960.175369c-247.24715 0-447.712835-200.463638-447.712835-447.712835 0-247.24715 200.466708-447.712835 447.712835-447.712835s447.712835 200.466708 447.712835 447.712835C960.462918 759.711731 759.996211 960.175369 512.750083 960.175369zM512.750083 148.69867c-200.575178 0-363.766934 163.188686-363.766934 363.763864S312.173882 876.229468 512.750083 876.229468 876.517017 713.037712 876.517017 512.462534 713.325261 148.69867 512.750083 148.69867zM500.45199 668.057265c-8.195659 8.198729-18.935258 12.298094-29.674856 12.298094s-21.479197-4.099365-29.674856-12.298094L301.19176 528.146749c-8.635681-8.632611-12.435217-20.054755-11.970636-31.342846 0.411369-10.165524 4.208858-20.24509 11.970636-28.004821 7.759731-7.764847 17.841344-11.562337 28.006867-11.973706 11.288091-0.461511 22.710234 3.334955 31.342846 11.973706l110.23566 110.22952L664.958694 384.850112c8.632611-8.635681 20.057825-12.435217 31.342846-11.970636 10.165524 0.414439 20.24816 4.208858 28.006867 11.970636 7.761778 7.759731 11.559267 17.844413 11.970636 28.006867 0.464581 11.288091-3.334955 22.710234-11.970636 31.345915L500.45199 668.057265z" ></path></symbol><symbol id="icon-rise" viewBox="0 0 1024 1024"><path d="M473.968 78.443v733.558l-180.328-187.319c-4.796-4.795-12.57-4.795-17.367 0l-37.627 37.627c-4.795 4.796-4.795 12.57 0 17.367l227.011 235.807c0.229 0.272 0.465 0.541 0.721 0.797l1.259 1.259 35.009 36.367c2.568 2.567 5.99 3.746 9.352 3.564 3.369 0.188 6.8-0.991 9.372-3.562l36.267-37.627c0.241-0.243 0.463-0.496 0.68-0.752l227.050-235.852c4.797-4.796 4.797-12.57 0-17.367l-37.627-37.627c-4.795-4.795-12.569-4.795-17.367 0l-178.637 185.562v-731.8c0-6.783-5.498-12.28-12.28-12.28h-53.213c-6.781 0-12.28 5.497-12.28 12.28z" ></path></symbol></svg>\n',o=function(t){var e=function(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",e,!1)},i=function(t,e){e.appendChild(t)};o(e);var l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,17)},r=t.utils.TSF,s=t.utils.moveTo;t.prototype.pulldown=function(t){function e(){c.style[r]=f.scroller.style[r],d||(f.y>44?(u.style[r]="rotateZ(180deg)",a.innerHTML=x.textRelease):(u.style[r]="rotateZ(0deg)",a.innerHTML=x.textPull))}function n(){d||(d=!0,p=!0,m=0,x.spinning&&i(),setTimeout(function(){"function"==typeof x.refresh?x.refresh({failed:function(){p=!1,u.innerHTML=x.iconError,a.innerHTML=x.textError,setTimeout(function(){o()},1500)},completed:function(){u.innerHTML=x.iconFinish,a.innerHTML=x.textFinish,o()}}):(console.warn("没有设置触发函数。"),o())},200))}function o(){p=!1,setTimeout(function(){s(c,0,0,200),f.scrollTo(0,0,200,!0,function(){d=!1,u.innerHTML=x.iconArrow,a.innerHTML=x.textPull}).minScrollY=0},500)}function i(){m=m+6>=360?0:m+6,u.style[r]="rotateZ(-"+m+"deg)",p?l(i):u.style[r]="rotateZ(0deg)"}var c,u,a,d,p,f=this,h=Object.keys(t||{}),m=0,g=function(t){return'<svg class="icon" aria-hidden="true"><use xlink:href="#icon-'+t+'"></use></svg>'},x={iconArrow:g("rise"),iconLoading:g("shuaxin"),iconFinish:g("wancheng"),iconError:g("error"),textPull:"下拉刷新",textRelease:"释放刷新",textLoading:"正在加载",textFinish:"刷新成功",textError:"刷新失败",spinning:!0,refresh:null};for(var y in h)x[h[y]]=t[h[y]];return c=document.createElement("div"),c.className="jroll-plugin-pulldown",u=document.createElement("span"),u.className="jroll-plugin-pulldown-icon",u.innerHTML=x.iconArrow,c.appendChild(u),a=document.createElement("span"),a.className="jroll-plugin-pulldown-text",a.innerHTML=x.textPull,c.appendChild(a),f.wrapper.appendChild(c),f.on("scroll",function(){f.y>=0&&"scrollY"===f.s&&e()}),f.on("touchEnd",function(){f.y>=44?(f.y=0,f.options.momentum=!1,u.style[r]="rotateZ(0deg)",u.innerHTML=x.iconLoading,a.innerHTML=x.textLoading,setTimeout(function(){f.scrollTo(0,44,200,!0,n).minScrollY=44,s(c,0,44,200),f.options.momentum=!0},10)):d||s(c,0,0,200)}),f.trigger=function(){f.y=0,f.options.momentum=!1,u.style[r]="rotateZ(0deg)",u.innerHTML=x.iconLoading,a.innerHTML=x.textLoading,setTimeout(function(){f.scrollTo(0,44,200,!0,n).minScrollY=44,s(c,0,44,200),f.options.momentum=!0},10)},f};var c={scrollBarY:!0,scrollBarFade:!0},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container"},[n("div",{ref:"wrapper"},[t._t("default"),t._v(" "),t.loadmore?n("div",{ref:"tip",staticClass:"jroll-infinite-tip"},[t._v("\n      "+t._s(t.tip)+"\n    ")]):t._e()],2)])},staticRenderFns:[],name:"jroll-scroller",props:{config:{type:Object,default:function(){return{}}},pulldown:{type:Function},loadmore:{type:Function}},data:function(){return{jroll:null,text:{loading:"正在加载中",failed:"加载失败 上拉重试",completed:"全部加载完成"},tip:"",loading:!1}},mounted:function(){var e=this,n=this;this.jroll=new t(this.$refs.container,Object.assign({},c,this.config)),this.pulldown&&this.jroll.pulldown({refresh:function(t){e.pulldown(t)}}),this.loadmore&&this.jroll.on("scrollEnd",function(){"scrollY"===this.s&&0!==this.y&&0!==this.maxScrollY&&this.y===this.maxScrollY&&this.y<=this.maxScrollY+2*n.$refs.tip.offsetHeight&&!n.loading&&n.triggerLoadMore()})},beforeDestroy:function(){this.jroll.destroy()},updated:function(){this.refresh()},methods:{triggerPullDown:function(){this.jroll.trigger()},triggerLoadMore:function(){var t=this;this.tip=this.text.loading,this.loading=!0,this.loadmore({failed:function(){t.tip=t.text.failed,t.loading=!1},completed:function(e){e&&(t.tip=t.text.completed),t.loading=!1}})},refresh:function(){var t=this;this.$nextTick(function(){return t.jroll.refresh()})},scrollTo:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.jroll.scrollTo.apply(this.jroll,t)},enable:function(){this.jroll.enable()},disable:function(){this.jroll.disable()},scale:function(t){this.jroll.scale(t)}}},a=document.createElement("style");return a.type="text/css",a.textContent=".jroll-plugin-pulldown{position:absolute;top:-44px;left:0;width:100%;height:44px;line-height:44px;font-size:16px;text-align:center}.jroll-plugin-pulldown-icon{display:inline-block;width:24px;height:24px;position:absolute;top:10px;left:0;left:25%}.jroll-plugin-pulldown-icon img,.jroll-plugin-pulldown-icon svg{display:block;height:24px;width:24px}.jroll-plugin-pulldown-text{color:#000}.jroll-infinite-tip{height:44px;line-height:44px;text-align:center}",o(function(){return i(a,document.head)}),{install:function(t){t.component(u.name,u)}}});
//# sourceMappingURL=dist/vue-jroll-scroller-plugin.min.js.map